<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contenidos: MQ</title>
    <link rel="icon" href="../favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../fontawesome/css/all.min.css">
    <link rel="stylesheet" href="../css/templatemo-style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="../index.html">
                <img width="200" src="../img/logoIBMZ.png"/>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="../contenidos.html">Atrás</a>
                </li>
            </ul>
            </div>
        </div>
    </nav>

    <div class="tm-hero d-flex justify-content-center align-items-center" data-parallax="scroll" data-image-src="../img/cabecera.png"></div>

    <div class="container-fluid tm-mt-60">
        <div class="row mb-4 text-center">
            <h2 class="col-12 tm-text-primary">MQ:</h2>
        </div>
        <div class="row tm-mb-74 tm-row-1640">
            <div class="col-lg-3 col-md-6 col-12"></div>
            <div class="col-lg-9 col-md-6 col-12">
                <div class="tm-about-img-text">
                    Si tenemos dos APPs que se quieren comunicar, es decir, la A le quiere enviar un mensaje a la B y falla o se pierde debido a la red.
                    La solución es establecer un middleware entre medias, tanto por fallo como por seguridad, ya que al ser un intermediario verificado,
                    le puede autenticar al receptor que el mensaje del emisor es veraz. Cuenta con colas para guardar mensajes a enviar más tarde.
                    Esto hizo la creación de IBM MQ, un sistema de comunicaciones de IBM para intercambiar información entre APPs, sistemas, servicios y ficheros.
                    <br><br>
                    ¿Cómo funciona el MQ?:
                    <br><br>
                    <img width="700" src="../img/contenidos/MQ/1.png"/>
                    <br><br>
                    El cliente A usa su APP desde un PC para enviar un mensaje a B. Para ello, el gestor de mensajes guarda el mensaje en un sistema de colas
                    para enviarlo en orden al PC de B, quien tiene su propio gestor de mensajes con cola de mensajes con la misma función. Con el objetivo final
                    de que el mensaje llegue a B.
                    <br><br>
                    Los mensajes persistentes son los que se guardan. Al contrario de los no persistentes.
                    <br><br>
                    Hay cuatro tipos de colas: local, remoto, alias y modelo.
                    <br><br>
                    Sobre una partición no se puede montar gestor de colas, sólo sobre un secuencial.
                    <br><br>
                    Puedes levantar el servidor de comunicaciones en otra máquina ajena a la tuya de forma virtual.
                    <br><br>
                    Crear un socket es definir los puertos de comunicación.
                    <br><br>
                    Envío de mensajes entre Queue Managers es unidireccional: 1 emisor y 1 receptor. Es asíncrono.
                    <br><br>
                    El canal entre clientes MQ es bidireccional: 2 emisores y 2 receptores. Es síncrono. Se maneja por medio de la MQI = Interfaz de cola de mensajes.
                    <br><br>
                    <img width="700" src="../img/contenidos/MQ/2.png"/>
                    <br><br>
                    <img width="200" src="../img/contenidos/MQ/3.png"/>
                    <br><br>
                    MQTT es un protocolo de comunicaciones simplificado que se utiliza en los móviles para casos en los que no haya cobertura y/o energía.
                    <br><br>
                    La cola (Queuing) es el mecanismo que permite enviar mensajes de manera síncrona.
                    <br><br>
                    La red de IBM internamente usa el SNA, fuera del mainframe se usa TCP/UDP.
                    <br><br>
                    Puedo dejar los mensajes en memoria (no persistente, porque si el sistema cae, lo pierdo) o en un log (persistente, aunque el sistema caiga,
                    se mantiene guardado).
                    <br><br>
                    Las APPs o Middlewares son las encargadas del envío y recibo de mensajes.
                    <br><br>
                    Un canal sirve para comunicar servidores entre sí.
                    <br><br>
                    Componentes de IBM MQ básicos: colas, mensajes, canales, Queue Manager (Servidor) y la MQI (Interfaz de cola de mensajes).
                    <br><br>
                    Primero hay que iniciar la cola con unos requerimientos y luego establecer la transmisión mediante XMITQ.
                    <br><br>
                    La prioridad de los mensajes se ponen en la parte del “descriptor” de la cabecera de la trama.
                    <br><br>
                    Cuando creo una cola, no es necesario poner todos los parámetros.
                    <br><br>
                    Para abrir una cola: MQI MQOPEN. Y para poner un mensaje en la cola: MQI MQPUT.
                    <br><br>
                    Un middleware sirve para independizar las comunicaciones de la infraestructura de red física.
                    <br><br>
                    IBM MQ es un programa o subsistema del sistema operativo z/OS que ejecuta en el Mainframe, en un espacio de direcciones virtuales.
                    CICS es un middleware o subsistema.
                    <br><br>
                    Dados dos servidores A y B, si yo me conecto al A, su cola para mí es local y las colas del B son en remoto. El canal es unidireccional.
                    Los bufferes están en el almacenamiento del procesador. Un conjunto de páginas/page set es un fichero VSAM.
                    Las colas (OE1, OEn....) se definen en clases de almacenamiento (ARC1, ARCn....) y éstas a su vez se definen en conjuntos de páginas o PSIDs
                    (PSID1, PSIDn....). El máximo de bufferes son de 100 => de 0 a 99.
                    <br><br>
                    Hay dos tipos de topología: la de punto a punto, que es una topología tipo estrella y, la de publicar/suscribir, que es una topología tipo
                    nodo central con colas.
                    <br><br>
                    Diferencias entre Repositorios completos y parciales. Los primeros tienen información de los todos los Queue Managers,
                    aunque no estén conectados a ellos. Los segundos tienen sólo información de aquellos Queue Managers a quienes están conectados.
                    Para usar MQ hay que hacerlo mediante un CICS.
                    <br><br>
                    En el SDSF => s espara ver el contenido, sj es para ejecutar en fichero, ? es para ver que hay en el JOB creado.
                    <br><br>
                    ¿Dónde van los mensajes que no se envían? A la Dead-letter Queue.
                    <br><br>
                    <img width="600" src="../img/contenidos/MQ/4.png"/>
                    <br><br>
                    <p>----------------------------------------------------------------------------------------------------------------------------</p>
                    RESUMEN:
                    <br>
                    - Anatomia de un sistema MQ y sus componentes.
                    <br>
                    - El interface s api.
                    <br>
                    - Tipo de colas.
                    <br>
                    - Almacenamiento de las colas => en las locales.
                    <br>
                    <p>----------------------------------------------------------------------------------------------------------------------------</p>
                </div>            
            </div>
            <div class="col-lg-2 col-md-6 col-12"></div>
        </div>
    </div>

    <footer class="tm-bg-gray pt-5 pb-3 tm-text-gray tm-footer">
        <div class="container-fluid tm-container-small">
            <div class="row">
                <div class="col-lg-7 col-md-7 col-12 px-5 mb-3">Copyright &copy; 2025-2030 - Todos los derechos reservados</div>
                <div class="col-lg-5 col-md-5 col-12 px-5 text-right">Diseñado por Alejandro Fernández Pérez</div>
            </div>
        </div>
    </footer>
    <script src="../js/plugins.js"></script>
</body>
</html>